#
# Param_Array
#
MACRO(PARAM_ARRAY_APPEND PARAM VALUE)
	IF(DEFINED ${PARAM}-SIZE)
		SET(${PARAM}-${${PARAM}-SIZE} ${VALUE})
	ELSE()
		SET(${PARAM}-0 ${VALUE})
	ENDIF()
	LIST(APPEND ${PARAM}-ARRAY ${VALUE})
	LIST(LENGTH ${PARAM}-ARRAY ${PARAM}-SIZE)
ENDMACRO()

FUNCTION(PARAM_ARRAY_FOUND PARAM VALUE INDEX)
	SET(VALUE_INDEX -1)
	IF(DEFINED ${PARAM}-ARRAY)
		LIST(FIND ${PARAM}-ARRAY ${VALUE} VALUE_INDEX)
	ENDIF()
	SET(${INDEX} ${VALUE_INDEX} PARENT_SCOPE)
ENDFUNCTION()

FUNCTION(PARAM_ARRAY_CASEFOUND PARAM VALUE INDEX)
	SET(VALUE_INDEX -1)
	IF(DEFINED ${PARAM}-ARRAY)
		STRING(TOUPPER ${VALUE} UPPER_VALUE)
		FOREACH(ARRAY_ELEMENT ${${PARAM}-ARRAY})
			STRING(TOUPPER ${ARRAY_ELEMENT} ARRAY_UPPER_ELEMENT)
			IF(${UPPER_VALUE} STREQUAL ${ARRAY_UPPER_ELEMENT})
				PARAM_ARRAY_FOUND(${PARAM} ${ARRAY_ELEMENT} VALUE_INDEX)
				BREAK()
			ENDIF()
		ENDFOREACH()
	ENDIF()
	SET(${INDEX} ${VALUE_INDEX} PARENT_SCOPE)
ENDFUNCTION()
